<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Welcome to the RAG LLM Interface Service &amp; File-Watcher Sidecar documentation! &#8212; RAG LLM Interface Service &amp; File-Watcher Sidecar 0.1.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=5ecbeea2" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css?v=12dfc556" />
    <script src="_static/documentation_options.js?v=01f34227"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Usage" href="usage.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="welcome-to-the-rag-llm-interface-service-file-watcher-sidecar-documentation">
<h1>Welcome to the RAG LLM Interface Service &amp; File-Watcher Sidecar documentation!<a class="headerlink" href="#welcome-to-the-rag-llm-interface-service-file-watcher-sidecar-documentation" title="Link to this heading">¶</a></h1>
<div class="toctree-wrapper compound">
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="usage.html">Usage</a><ul>
<li class="toctree-l2"><a class="reference internal" href="usage.html#quick-start">Quick Start</a></li>
<li class="toctree-l2"><a class="reference internal" href="usage.html#development-workflow">Development Workflow</a></li>
<li class="toctree-l2"><a class="reference internal" href="usage.html#configuration">Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="usage.html#file-directory-exclusion-and-ignore-patterns">File/Directory Exclusion and Ignore Patterns</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="api.html">API Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="api.html#ragms02.api.routes.health"><code class="docutils literal notranslate"><span class="pre">health()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html#ragms02.api.ingest.FileEvent"><code class="docutils literal notranslate"><span class="pre">FileEvent</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html#ragms02.api.ingest.IngestNotifyRequest"><code class="docutils literal notranslate"><span class="pre">IngestNotifyRequest</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html#ragms02.api.ingest.chunk_text"><code class="docutils literal notranslate"><span class="pre">chunk_text()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html#ragms02.api.ingest.ingest_notify"><code class="docutils literal notranslate"><span class="pre">ingest_notify()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html#ragms02.api.query.QueryRequest"><code class="docutils literal notranslate"><span class="pre">QueryRequest</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html#ragms02.api.query.QueryResponse"><code class="docutils literal notranslate"><span class="pre">QueryResponse</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html#ragms02.api.query.query_llm"><code class="docutils literal notranslate"><span class="pre">query_llm()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html#ragms02.api.admin.admin_reindex"><code class="docutils literal notranslate"><span class="pre">admin_reindex()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html#ragms02.api.admin.admin_reset"><code class="docutils literal notranslate"><span class="pre">admin_reset()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html#ragms02.api.admin.get_logs"><code class="docutils literal notranslate"><span class="pre">get_logs()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html#ragms02.api.admin.get_metrics"><code class="docutils literal notranslate"><span class="pre">get_metrics()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html#ragms02.api.admin.list_project_sources"><code class="docutils literal notranslate"><span class="pre">list_project_sources()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html#ragms02.api.admin.list_projects"><code class="docutils literal notranslate"><span class="pre">list_projects()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html#ragms02.api.admin.status"><code class="docutils literal notranslate"><span class="pre">status()</span></code></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="design/file-watcher-sdd.html">System Design Document: File-Watcher Sidecar and RAG LLM Interface Service</a><ul>
<li class="toctree-l2"><a class="reference internal" href="design/file-watcher-sdd.html#status">Status</a></li>
<li class="toctree-l2"><a class="reference internal" href="design/file-watcher-sdd.html#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="design/file-watcher-sdd.html#llm-routing-and-provider-selection">LLM Routing and Provider Selection</a></li>
<li class="toctree-l2"><a class="reference internal" href="design/file-watcher-sdd.html#goals">Goals</a></li>
<li class="toctree-l2"><a class="reference internal" href="design/file-watcher-sdd.html#out-of-scope">Out of Scope</a></li>
<li class="toctree-l2"><a class="reference internal" href="design/file-watcher-sdd.html#architecture">Architecture</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="adr/index.html">ADR Index</a><ul>
<li class="toctree-l2"><a class="reference internal" href="adr/0003-ingestion-method.html">ADR-0003: Document and Code Ingestion Method</a></li>
<li class="toctree-l2"><a class="reference internal" href="adr/0004-api-design.html">ADR-0004: API Design</a></li>
<li class="toctree-l2"><a class="reference internal" href="adr/0005-authentication.html">ADR-0005: Authentication</a></li>
<li class="toctree-l2"><a class="reference internal" href="adr/0006-file-change-detection.html">ADR-0006: File Change Detection</a></li>
<li class="toctree-l2"><a class="reference internal" href="adr/0007-error-handling.html">ADR-0007: Error Handling</a></li>
<li class="toctree-l2"><a class="reference internal" href="adr/0008-deployment.html">ADR-0008: Deployment</a></li>
<li class="toctree-l2"><a class="reference internal" href="adr/0009-observability.html">ADR-0009: Observability</a></li>
<li class="toctree-l2"><a class="reference internal" href="adr/0010-vector-db.html">ADR-0010: Vector Database</a></li>
<li class="toctree-l2"><a class="reference internal" href="adr/0011-llm-routing.html">ADR-0011: LLM Routing</a></li>
<li class="toctree-l2"><a class="reference internal" href="adr/0012-security.html">ADR-0012: Security</a></li>
<li class="toctree-l2"><a class="reference internal" href="adr/0013-project-tagging.html">ADR-0013: Project Tagging</a></li>
<li class="toctree-l2"><a class="reference internal" href="adr/0014-initial-load.html">ADR-0014: Initial Load</a></li>
<li class="toctree-l2"><a class="reference internal" href="adr/9999-decision-backlog.html">ADR-9999: Decision Backlog</a></li>
</ul>
</li>
</ul>
</div>
<section id="project-overview">
<h2>Project Overview<a class="headerlink" href="#project-overview" title="Link to this heading">¶</a></h2>
<p>This project provides a local microservice and file-watcher sidecar for enhanced, context-aware LLM responses. It supports project/tag isolation, hybrid ingestion (full and incremental), robust API design, LLM routing, and is extensible for future multi-user or production scenarios.</p>
</section>
<section id="usage">
<h2>Usage<a class="headerlink" href="#usage" title="Link to this heading">¶</a></h2>
</section>
</section>
<section id="id1">
<h1>Usage<a class="headerlink" href="#id1" title="Link to this heading">¶</a></h1>
<section id="quick-start">
<h2>Quick Start<a class="headerlink" href="#quick-start" title="Link to this heading">¶</a></h2>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>clone<span class="w"> </span>&lt;repo-url&gt;
<span class="nb">cd</span><span class="w"> </span>ragms02
make<span class="w"> </span>install
make<span class="w"> </span>run
</pre></div>
</div>
<p>Open <a class="reference external" href="http://localhost:8000/docs">http://localhost:8000/docs</a> for the API docs (Swagger UI).</p>
</section>
<section id="development-workflow">
<h2>Development Workflow<a class="headerlink" href="#development-workflow" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Use <cite>make test</cite> to run all tests.</p></li>
<li><p>Use <cite>make lint</cite> and <cite>make format</cite> for code quality.</p></li>
<li><p>Use <cite>make docs</cite> to build this documentation.</p></li>
</ul>
</section>
<section id="configuration">
<h2>Configuration<a class="headerlink" href="#configuration" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>See <cite>README.md</cite> and <cite>docs/design/file-watcher-sdd.md</cite> for configuration options.</p></li>
</ul>
</section>
<section id="file-directory-exclusion-and-ignore-patterns">
<h2>File/Directory Exclusion and Ignore Patterns<a class="headerlink" href="#file-directory-exclusion-and-ignore-patterns" title="Link to this heading">¶</a></h2>
<p>Both the file-watcher sidecar and bulk ingestion scripts support robust exclusion of files and directories using a shared <cite>.ragignore</cite> file. This file uses <cite>.gitignore</cite>-style syntax and can be customized per project. The ignore logic is implemented using the <cite>pathspec</cite> library and a shared utility, ensuring that both real-time and batch ingestion respect the same patterns.</p>
<ul class="simple">
<li><p>On startup, the watcher loads <cite>.ragignore</cite> and applies the patterns to all file system events. The watcher will reload <cite>.ragignore</cite> on changes and emit delete events for files newly ignored.</p></li>
<li><p>Bulk ingestion scripts also load <cite>.ragignore</cite> and skip ignored files/directories during recursive scans.</p></li>
<li><p>Patterns can be customized to exclude any files, directories, or file types as needed.</p></li>
</ul>
<p>See <cite>ignore_utils.py</cite>, <cite>examples/watch_with_ragignore.py</cite>, <cite>examples/bulk_ingest.py</cite>, and <cite>examples/watch_exclude_examples_dir.py</cite> for implementation details and usage examples.</p>
</section>
<section id="api-reference">
<h2>API Reference<a class="headerlink" href="#api-reference" title="Link to this heading">¶</a></h2>
</section>
</section>
<section id="id2">
<h1>API Reference<a class="headerlink" href="#id2" title="Link to this heading">¶</a></h1>
<dl class="py function" id="module-ragms02.api.routes">
<dt class="sig sig-object py" id="ragms02.api.routes.health">
<span class="sig-prename descclassname"><span class="pre">ragms02.api.routes.</span></span><span class="sig-name descname"><span class="pre">health</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ragms02/api/routes.html#health"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ragms02.api.routes.health" title="Link to this definition">¶</a></dt>
<dd><p>Health check endpoint.
Returns status ok if the service is running.</p>
</dd></dl>

<dl class="py class" id="module-ragms02.api.ingest">
<dt class="sig sig-object py" id="ragms02.api.ingest.FileEvent">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ragms02.api.ingest.</span></span><span class="sig-name descname"><span class="pre">FileEvent</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">event_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timestamp</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">datetime</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">uuid</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hash</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">content</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">storage_url</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">old_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ragms02/api/ingest.html#FileEvent"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ragms02.api.ingest.FileEvent" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">BaseModel</span></code></p>
<p>Represents a file change event for ingestion.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="ragms02.api.ingest.FileEvent.path">
<span class="sig-name descname"><span class="pre">path</span></span><a class="headerlink" href="#ragms02.api.ingest.FileEvent.path" title="Link to this definition">¶</a></dt>
<dd><p>Project-root-relative file path.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ragms02.api.ingest.FileEvent.event_type">
<span class="sig-name descname"><span class="pre">event_type</span></span><a class="headerlink" href="#ragms02.api.ingest.FileEvent.event_type" title="Link to this definition">¶</a></dt>
<dd><p>Type of change (created, modified, deleted, moved).</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ragms02.api.ingest.FileEvent.timestamp">
<span class="sig-name descname"><span class="pre">timestamp</span></span><a class="headerlink" href="#ragms02.api.ingest.FileEvent.timestamp" title="Link to this definition">¶</a></dt>
<dd><p>Event time (UTC).</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>datetime</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ragms02.api.ingest.FileEvent.uuid">
<span class="sig-name descname"><span class="pre">uuid</span></span><a class="headerlink" href="#ragms02.api.ingest.FileEvent.uuid" title="Link to this definition">¶</a></dt>
<dd><p>Optional stable file UUID.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Optional[str]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ragms02.api.ingest.FileEvent.hash">
<span class="sig-name descname"><span class="pre">hash</span></span><a class="headerlink" href="#ragms02.api.ingest.FileEvent.hash" title="Link to this definition">¶</a></dt>
<dd><p>Optional content hash.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Optional[str]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ragms02.api.ingest.FileEvent.content">
<span class="sig-name descname"><span class="pre">content</span></span><a class="headerlink" href="#ragms02.api.ingest.FileEvent.content" title="Link to this definition">¶</a></dt>
<dd><p>Optional file content (base64 or text).</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Optional[str]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ragms02.api.ingest.FileEvent.storage_url">
<span class="sig-name descname"><span class="pre">storage_url</span></span><a class="headerlink" href="#ragms02.api.ingest.FileEvent.storage_url" title="Link to this definition">¶</a></dt>
<dd><p>Optional reference to file in shared storage.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Optional[str]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ragms02.api.ingest.FileEvent.old_path">
<span class="sig-name descname"><span class="pre">old_path</span></span><a class="headerlink" href="#ragms02.api.ingest.FileEvent.old_path" title="Link to this definition">¶</a></dt>
<dd><p>For moved/renamed events.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Optional[str]</p>
</dd>
</dl>
</dd></dl>

<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">FileEvent</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="s2">&quot;docs/file.txt&quot;</span><span class="p">,</span> <span class="n">event_type</span><span class="o">=</span><span class="s2">&quot;created&quot;</span><span class="p">,</span> <span class="n">timestamp</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">utcnow</span><span class="p">())</span>
</pre></div>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="id0">
<span class="sig-name descname"><span class="pre">content</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#id0" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id3">
<span class="sig-name descname"><span class="pre">event_type</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#id3" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id4">
<span class="sig-name descname"><span class="pre">hash</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#id4" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ragms02.api.ingest.FileEvent.model_config">
<span class="sig-name descname"><span class="pre">model_config</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">ClassVar</span><span class="p"><span class="pre">[</span></span><span class="pre">ConfigDict</span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#ragms02.api.ingest.FileEvent.model_config" title="Link to this definition">¶</a></dt>
<dd><p>Configuration for the model, should be a dictionary conforming to [<cite>ConfigDict</cite>][pydantic.config.ConfigDict].</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id5">
<span class="sig-name descname"><span class="pre">old_path</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#id5" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id6">
<span class="sig-name descname"><span class="pre">path</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#id6" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id7">
<span class="sig-name descname"><span class="pre">storage_url</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#id7" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id8">
<span class="sig-name descname"><span class="pre">timestamp</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">datetime</span></em><a class="headerlink" href="#id8" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id9">
<span class="sig-name descname"><span class="pre">uuid</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#id9" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ragms02.api.ingest.IngestNotifyRequest">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ragms02.api.ingest.</span></span><span class="sig-name descname"><span class="pre">IngestNotifyRequest</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">project_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">events</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#ragms02.api.ingest.FileEvent" title="ragms02.api.ingest.FileEvent"><span class="pre">FileEvent</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ragms02/api/ingest.html#IngestNotifyRequest"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ragms02.api.ingest.IngestNotifyRequest" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">BaseModel</span></code></p>
<p>Request payload for /ingest/notify endpoint.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="ragms02.api.ingest.IngestNotifyRequest.project_id">
<span class="sig-name descname"><span class="pre">project_id</span></span><a class="headerlink" href="#ragms02.api.ingest.IngestNotifyRequest.project_id" title="Link to this definition">¶</a></dt>
<dd><p>Project identifier.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ragms02.api.ingest.IngestNotifyRequest.events">
<span class="sig-name descname"><span class="pre">events</span></span><a class="headerlink" href="#ragms02.api.ingest.IngestNotifyRequest.events" title="Link to this definition">¶</a></dt>
<dd><p>List of file events (see <a class="reference internal" href="#ragms02.api.ingest.FileEvent" title="ragms02.api.ingest.FileEvent"><code class="xref py py-class docutils literal notranslate"><span class="pre">FileEvent</span></code></a>).</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>List[<a class="reference internal" href="#ragms02.api.ingest.FileEvent" title="ragms02.api.ingest.FileEvent">FileEvent</a>]</p>
</dd>
</dl>
</dd></dl>

<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">IngestNotifyRequest</span><span class="p">(</span><span class="n">project_id</span><span class="o">=</span><span class="s2">&quot;proj1&quot;</span><span class="p">,</span> <span class="n">events</span><span class="o">=</span><span class="p">[</span><span class="n">FileEvent</span><span class="p">(</span><span class="o">...</span><span class="p">)])</span>
</pre></div>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="id10">
<span class="sig-name descname"><span class="pre">events</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#ragms02.api.ingest.FileEvent" title="ragms02.api.ingest.FileEvent"><span class="pre">FileEvent</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#id10" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ragms02.api.ingest.IngestNotifyRequest.model_config">
<span class="sig-name descname"><span class="pre">model_config</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">ClassVar</span><span class="p"><span class="pre">[</span></span><span class="pre">ConfigDict</span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#ragms02.api.ingest.IngestNotifyRequest.model_config" title="Link to this definition">¶</a></dt>
<dd><p>Configuration for the model, should be a dictionary conforming to [<cite>ConfigDict</cite>][pydantic.config.ConfigDict].</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id11">
<span class="sig-name descname"><span class="pre">project_id</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#id11" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ragms02.api.ingest.chunk_text">
<span class="sig-prename descclassname"><span class="pre">ragms02.api.ingest.</span></span><span class="sig-name descname"><span class="pre">chunk_text</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">300</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overlap</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">50</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ragms02/api/ingest.html#chunk_text"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ragms02.api.ingest.chunk_text" title="Link to this definition">¶</a></dt>
<dd><p>Split text into LLM-optimized chunks using LangChain’s text splitter.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>text</strong> (<em>str</em>) – The input text to split.</p></li>
<li><p><strong>size</strong> (<em>int</em>) – Chunk size in characters.</p></li>
<li><p><strong>overlap</strong> (<em>int</em>) – Overlap between chunks.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of text chunks.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>List[str]</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">chunk_text</span><span class="p">(</span><span class="s2">&quot;This is a long document...&quot;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">overlap</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="go">[&#39;This is a long doc...&#39;, ...]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ragms02.api.ingest.ingest_notify">
<span class="sig-prename descclassname"><span class="pre">ragms02.api.ingest.</span></span><span class="sig-name descname"><span class="pre">ingest_notify</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">payload</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#ragms02.api.ingest.IngestNotifyRequest" title="ragms02.api.ingest.IngestNotifyRequest"><span class="pre">IngestNotifyRequest</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ragms02/api/ingest.html#ingest_notify"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ragms02.api.ingest.ingest_notify" title="Link to this definition">¶</a></dt>
<dd><p>Ingest file change events: chunk, embed, and update vector store using LangChain.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>payload</strong> (<a class="reference internal" href="#ragms02.api.ingest.IngestNotifyRequest" title="ragms02.api.ingest.IngestNotifyRequest"><em>IngestNotifyRequest</em></a>) – Ingestion request payload (see <a class="reference internal" href="#ragms02.api.ingest.IngestNotifyRequest" title="ragms02.api.ingest.IngestNotifyRequest"><code class="xref py py-class docutils literal notranslate"><span class="pre">IngestNotifyRequest</span></code></a>).</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Status and number of processed chunks/events.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">req</span> <span class="o">=</span> <span class="n">IngestNotifyRequest</span><span class="p">(</span><span class="n">project_id</span><span class="o">=</span><span class="s2">&quot;proj1&quot;</span><span class="p">,</span> <span class="n">events</span><span class="o">=</span><span class="p">[</span><span class="n">FileEvent</span><span class="p">(</span><span class="o">...</span><span class="p">)])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ingest_notify</span><span class="p">(</span><span class="n">req</span><span class="p">)</span>
<span class="go">{&#39;status&#39;: &#39;success&#39;, &#39;processed&#39;: 3}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class" id="module-ragms02.api.query">
<dt class="sig sig-object py" id="ragms02.api.query.QueryRequest">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ragms02.api.query.</span></span><span class="sig-name descname"><span class="pre">QueryRequest</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">query</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">projects</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">context</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'llama2'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ragms02/api/query.html#QueryRequest"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ragms02.api.query.QueryRequest" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">BaseModel</span></code></p>
<p>Request payload for /query endpoint.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="ragms02.api.query.QueryRequest.query">
<span class="sig-name descname"><span class="pre">query</span></span><a class="headerlink" href="#ragms02.api.query.QueryRequest.query" title="Link to this definition">¶</a></dt>
<dd><p>User’s question or prompt.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ragms02.api.query.QueryRequest.projects">
<span class="sig-name descname"><span class="pre">projects</span></span><a class="headerlink" href="#ragms02.api.query.QueryRequest.projects" title="Link to this definition">¶</a></dt>
<dd><p>List of project IDs to search.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>List[str]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ragms02.api.query.QueryRequest.context">
<span class="sig-name descname"><span class="pre">context</span></span><a class="headerlink" href="#ragms02.api.query.QueryRequest.context" title="Link to this definition">¶</a></dt>
<dd><p>Additional context or parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Optional[Dict[str, Any]]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ragms02.api.query.QueryRequest.model">
<span class="sig-name descname"><span class="pre">model</span></span><a class="headerlink" href="#ragms02.api.query.QueryRequest.model" title="Link to this definition">¶</a></dt>
<dd><p>LLM model to use.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Optional[str]</p>
</dd>
</dl>
</dd></dl>

<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">QueryRequest</span><span class="p">(</span><span class="n">query</span><span class="o">=</span><span class="s2">&quot;What is RAG?&quot;</span><span class="p">,</span> <span class="n">projects</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;proj1&quot;</span><span class="p">])</span>
</pre></div>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="id12">
<span class="sig-name descname"><span class="pre">context</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#id12" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id13">
<span class="sig-name descname"><span class="pre">model</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#id13" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ragms02.api.query.QueryRequest.model_config">
<span class="sig-name descname"><span class="pre">model_config</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">ClassVar</span><span class="p"><span class="pre">[</span></span><span class="pre">ConfigDict</span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#ragms02.api.query.QueryRequest.model_config" title="Link to this definition">¶</a></dt>
<dd><p>Configuration for the model, should be a dictionary conforming to [<cite>ConfigDict</cite>][pydantic.config.ConfigDict].</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id14">
<span class="sig-name descname"><span class="pre">projects</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#id14" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id15">
<span class="sig-name descname"><span class="pre">query</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#id15" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ragms02.api.query.QueryResponse">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ragms02.api.query.</span></span><span class="sig-name descname"><span class="pre">QueryResponse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">response</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sources</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">citations</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">confidence</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">error</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ragms02/api/query.html#QueryResponse"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ragms02.api.query.QueryResponse" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">BaseModel</span></code></p>
<p>Response model for /query endpoint.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="ragms02.api.query.QueryResponse.response">
<span class="sig-name descname"><span class="pre">response</span></span><a class="headerlink" href="#ragms02.api.query.QueryResponse.response" title="Link to this definition">¶</a></dt>
<dd><p>LLM answer.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ragms02.api.query.QueryResponse.sources">
<span class="sig-name descname"><span class="pre">sources</span></span><a class="headerlink" href="#ragms02.api.query.QueryResponse.sources" title="Link to this definition">¶</a></dt>
<dd><p>Supporting sources.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Optional[List[Dict[str, Any]]]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ragms02.api.query.QueryResponse.citations">
<span class="sig-name descname"><span class="pre">citations</span></span><a class="headerlink" href="#ragms02.api.query.QueryResponse.citations" title="Link to this definition">¶</a></dt>
<dd><p>Inline mapping of answer segments to sources.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Optional[List[Dict[str, Any]]]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ragms02.api.query.QueryResponse.confidence">
<span class="sig-name descname"><span class="pre">confidence</span></span><a class="headerlink" href="#ragms02.api.query.QueryResponse.confidence" title="Link to this definition">¶</a></dt>
<dd><p>LLM’s confidence in the answer.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Optional[float]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ragms02.api.query.QueryResponse.error">
<span class="sig-name descname"><span class="pre">error</span></span><a class="headerlink" href="#ragms02.api.query.QueryResponse.error" title="Link to this definition">¶</a></dt>
<dd><p>Error or fallback message.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Optional[str]</p>
</dd>
</dl>
</dd></dl>

<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">QueryResponse</span><span class="p">(</span><span class="n">response</span><span class="o">=</span><span class="s2">&quot;RAG stands for...&quot;</span><span class="p">,</span> <span class="n">sources</span><span class="o">=</span><span class="p">[{</span><span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;doc1&quot;</span><span class="p">}])</span>
</pre></div>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="id16">
<span class="sig-name descname"><span class="pre">citations</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#id16" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id17">
<span class="sig-name descname"><span class="pre">confidence</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#id17" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id18">
<span class="sig-name descname"><span class="pre">error</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#id18" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ragms02.api.query.QueryResponse.model_config">
<span class="sig-name descname"><span class="pre">model_config</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">ClassVar</span><span class="p"><span class="pre">[</span></span><span class="pre">ConfigDict</span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#ragms02.api.query.QueryResponse.model_config" title="Link to this definition">¶</a></dt>
<dd><p>Configuration for the model, should be a dictionary conforming to [<cite>ConfigDict</cite>][pydantic.config.ConfigDict].</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id19">
<span class="sig-name descname"><span class="pre">response</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#id19" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id20">
<span class="sig-name descname"><span class="pre">sources</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#id20" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ragms02.api.query.query_llm">
<span class="sig-prename descclassname"><span class="pre">ragms02.api.query.</span></span><span class="sig-name descname"><span class="pre">query_llm</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">payload</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#ragms02.api.query.QueryRequest" title="ragms02.api.query.QueryRequest"><span class="pre">QueryRequest</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ragms02/api/query.html#query_llm"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ragms02.api.query.query_llm" title="Link to this definition">¶</a></dt>
<dd><p>Retrieve similar docs using LangChain vector store and assemble context for LLM.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>payload</strong> (<a class="reference internal" href="#ragms02.api.query.QueryRequest" title="ragms02.api.query.QueryRequest"><em>QueryRequest</em></a>) – Query request payload (see <a class="reference internal" href="#ragms02.api.query.QueryRequest" title="ragms02.api.query.QueryRequest"><code class="xref py py-class docutils literal notranslate"><span class="pre">QueryRequest</span></code></a>).</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>LLM response and supporting sources (see <a class="reference internal" href="#ragms02.api.query.QueryResponse" title="ragms02.api.query.QueryResponse"><code class="xref py py-class docutils literal notranslate"><span class="pre">QueryResponse</span></code></a>).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#ragms02.api.query.QueryResponse" title="ragms02.api.query.QueryResponse">QueryResponse</a></p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">req</span> <span class="o">=</span> <span class="n">QueryRequest</span><span class="p">(</span><span class="n">query</span><span class="o">=</span><span class="s2">&quot;What is RAG?&quot;</span><span class="p">,</span> <span class="n">projects</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;proj1&quot;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">query_llm</span><span class="p">(</span><span class="n">req</span><span class="p">)</span>
<span class="go">QueryResponse(response=&quot;RAG stands for...&quot;, sources=[...])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function" id="module-ragms02.api.admin">
<dt class="sig sig-object py" id="ragms02.api.admin.admin_reindex">
<span class="sig-prename descclassname"><span class="pre">ragms02.api.admin.</span></span><span class="sig-name descname"><span class="pre">admin_reindex</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ragms02/api/admin.html#admin_reindex"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ragms02.api.admin.admin_reindex" title="Link to this definition">¶</a></dt>
<dd><p>Trigger a full re-ingestion and re-indexing for a project (admin only).</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Status and message.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>dict</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">admin_reindex</span><span class="p">()</span>
<span class="go">{&#39;status&#39;: &#39;reindexing&#39;, &#39;message&#39;: &#39;Reindexing started for project.&#39;}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ragms02.api.admin.admin_reset">
<span class="sig-prename descclassname"><span class="pre">ragms02.api.admin.</span></span><span class="sig-name descname"><span class="pre">admin_reset</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ragms02/api/admin.html#admin_reset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ragms02.api.admin.admin_reset" title="Link to this definition">¶</a></dt>
<dd><p>Reset/clear the vector database/index (admin only).</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Status and message.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>dict</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">admin_reset</span><span class="p">()</span>
<span class="go">{&#39;status&#39;: &#39;reset&#39;, &#39;message&#39;: &#39;Database/index has been cleared.&#39;}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ragms02.api.admin.get_logs">
<span class="sig-prename descclassname"><span class="pre">ragms02.api.admin.</span></span><span class="sig-name descname"><span class="pre">get_logs</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ragms02/api/admin.html#get_logs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ragms02.api.admin.get_logs" title="Link to this definition">¶</a></dt>
<dd><p>Returns recent logs (admin only). Placeholder implementation.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>List of log entries.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>dict</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">get_logs</span><span class="p">()</span>
<span class="go">{&#39;logs&#39;: [{&#39;timestamp&#39;: &#39;...&#39;, &#39;level&#39;: &#39;INFO&#39;, &#39;message&#39;: &#39;Ingested file ...&#39;}]}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ragms02.api.admin.get_metrics">
<span class="sig-prename descclassname"><span class="pre">ragms02.api.admin.</span></span><span class="sig-name descname"><span class="pre">get_metrics</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ragms02/api/admin.html#get_metrics"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ragms02.api.admin.get_metrics" title="Link to this definition">¶</a></dt>
<dd><p>Returns service metrics. Placeholder implementation.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Metrics summary.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>dict</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">get_metrics</span><span class="p">()</span>
<span class="go">{&#39;metrics&#39;: {&#39;queries&#39;: 100, &#39;ingest_events&#39;: 50, &#39;errors&#39;: 2}}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ragms02.api.admin.list_project_sources">
<span class="sig-prename descclassname"><span class="pre">ragms02.api.admin.</span></span><span class="sig-name descname"><span class="pre">list_project_sources</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">project_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">Path(PydanticUndefined)</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ragms02/api/admin.html#list_project_sources"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ragms02.api.admin.list_project_sources" title="Link to this definition">¶</a></dt>
<dd><p>Lists all source files/documents for a project.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>project_id</strong> (<em>str</em>) – Project identifier.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of sources with path and snippet.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">list_project_sources</span><span class="p">(</span><span class="s2">&quot;proj1&quot;</span><span class="p">)</span>
<span class="go">{&#39;sources&#39;: [{&#39;path&#39;: &#39;file1.txt&#39;, &#39;snippet&#39;: &#39;...&#39;}]}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ragms02.api.admin.list_projects">
<span class="sig-prename descclassname"><span class="pre">ragms02.api.admin.</span></span><span class="sig-name descname"><span class="pre">list_projects</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ragms02/api/admin.html#list_projects"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ragms02.api.admin.list_projects" title="Link to this definition">¶</a></dt>
<dd><p>Lists all known projects.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>List of projects and document counts.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>dict</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">list_projects</span><span class="p">()</span>
<span class="go">{&#39;projects&#39;: [{&#39;id&#39;: &#39;proj1&#39;, &#39;documents&#39;: 5}]}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ragms02.api.admin.status">
<span class="sig-prename descclassname"><span class="pre">ragms02.api.admin.</span></span><span class="sig-name descname"><span class="pre">status</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ragms02/api/admin.html#status"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ragms02.api.admin.status" title="Link to this definition">¶</a></dt>
<dd><p>Returns current status and statistics.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Status, project count, document count, and last ingest time.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>dict</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">status</span><span class="p">()</span>
<span class="go">{&#39;status&#39;: &#39;ok&#39;, &#39;projects&#39;: 1, &#39;documents_indexed&#39;: 10, &#39;last_ingest&#39;: &#39;...&#39;}</span>
</pre></div>
</div>
</dd></dl>

<section id="id21">
<h2>File/Directory Exclusion and Ignore Patterns<a class="headerlink" href="#id21" title="Link to this heading">¶</a></h2>
<p>The system supports robust exclusion of files and directories from ingestion and watching using a shared <cite>.ragignore</cite> file (gitignore-style). See the SDD and usage documentation for details on how to configure and use this feature for both real-time and batch ingestion.</p>
<ul class="simple">
<li><p>See <cite>ignore_utils.py</cite> for the shared ignore logic.</p></li>
<li><p>See <cite>examples/watch_with_ragignore.py</cite> for a watcher example using <cite>.ragignore</cite>.</p></li>
<li><p>See <cite>examples/bulk_ingest.py</cite> for a bulk ingestion example using <cite>.ragignore</cite>.</p></li>
<li><p>See <cite>examples/watch_exclude_examples_dir.py</cite> for a watcher example using <cite>.ragignore</cite> for directory exclusion.</p></li>
</ul>
<p>—</p>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="#">RAG LLM Interface Service & File-Watcher Sidecar</a></h1>








<h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="usage.html">Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="api.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="design/file-watcher-sdd.html">System Design Document: File-Watcher Sidecar and RAG LLM Interface Service</a></li>
<li class="toctree-l1"><a class="reference internal" href="adr/index.html">ADR Index</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="#">Documentation overview</a><ul>
      <li>Next: <a href="usage.html" title="next chapter">Usage</a></li>
  </ul></li>
</ul>
</div>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2025, Your Name.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 7.4.7</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 0.7.16</a>
      
      |
      <a href="_sources/index.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>